<div [ngStyle]="{background: 'url(../../assets/images/horbg.png)'}" class="page-title"><h1>COGBYTES</h1></div>

<div>
    <div class="content">
        <p style="padding-left:50px">
            Cogbytes ... [<i>insert text here</i>]
        </p>

    </div>

    <!--<app-shared-pubscreen></app-shared-pubscreen>-->
    <!--***********************************************************************************************************
    ***************************************************************************************************************-->
    <div style="padding-top:30px">
        <table class="docs-markdown-table">
            <thead>
                <tr>
                    <th class="docs-markdown-th" style="color:black; background-color:#e0e0e0; font-size:large;">Your Repositories</th>

                </tr>
            </thead>
            <tbody class="docs-markdown-tbody">
                <tr>
                    <td style="padding: 13px 16px;">

                        <div>
                            <div style="padding-bottom:10px" *ngIf="(isAdmin || isUser); else other_content">
                                <label>Add new repository: </label>
                                <button mat-icon-button matTooltip="Add new repository" (click)="openDialogAddRepository()"><mat-icon>add</mat-icon></button>
                                <br />

                                <!--Repository List-->
                                <mat-form-field style="width: 35%; padding-left:0px">
                                    <mat-select matInput placeholder="Your repositories" [(ngModel)]="repModel" (openedChange)="GetRepositories()" (selectionChange)="GetUploads()">
                                        <mat-option>-</mat-option>
                                        <mat-option *ngFor="let rep of repList" [value]="rep.title">
                                            {{rep.title}}
                                        </mat-option>
                                    </mat-select>

                                </mat-form-field>

                                <span *ngIf="repModel != null" style="padding-left: 20px;">
                                    <button mat-icon-button matTooltip="Edit Repository" (click)="openDialogEditRepository()"><mat-icon>edit</mat-icon></button>
                                    <button mat-icon-button matTooltip="Delete Repository" color="warn"><mat-icon>delete</mat-icon></button>
                                </span>&nbsp;

                            </div>

                            <ng-template #other_content><span style="color:red">You must log in to create a repository!</span></ng-template>

                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <br />

    <div *ngIf="repModel != null" style="padding-top:30px">
        <table class="docs-markdown-table">
            <thead>
                <tr>
                    <th class="docs-markdown-th" style="color:black; background-color:#e0e0e0; font-size:large;">{{repModel}} Files</th>

                </tr>
            </thead>
            <tbody class="docs-markdown-tbody">
                <tr>
                    <td style="padding: 13px 16px;">
                        <mat-expansion-panel class="mat-elevation-z0" [expanded]="panelOpenState"
                                             (opened)="panelOpenState=true" (closed)="panelOpenState=false" hideToggle> 
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    New upload:
                                </mat-panel-title>
                                <mat-panel-description>
                                    <mat-icon *ngIf="!panelOpenState">add</mat-icon>
                                </mat-panel-description>

                            </mat-expansion-panel-header>

                            <app-cogbytesUpload [repID]="getRepID()" [isEditMode]="false" (filesUploaded)="NewUpload($event)" (repChange)="ClosePanel($event)"></app-cogbytesUpload>

                        </mat-expansion-panel>

                        <br />

                        <mat-accordion>
                            <mat-expansion-panel *ngFor="let upload of uploadList">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        {{upload.name}}
                                    </mat-panel-title>
                                </mat-expansion-panel-header>

                                <app-cogbytesUpload [repID]="getRepID()" [isEditMode]="true" [uploadObj]="upload"></app-cogbytesUpload>

                            </mat-expansion-panel>
                        </mat-accordion>

                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!--<div>
        <mat-expansion-panel style="width:90%; margin-left: 85px">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Upload file(s):
                </mat-panel-title>
            </mat-expansion-panel-header>

            <app-cogbytesUpload></app-cogbytesUpload>

        </mat-expansion-panel>
    </div>-->

</div>
